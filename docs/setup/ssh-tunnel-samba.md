# üîí SSH —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è SAMBA (–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø)

–ö–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å Home Assistant config —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑ –ø—Ä–æ–±—Ä–æ—Å–∞ SAMBA –ø–æ—Ä—Ç–æ–≤.

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**–ü—Ä–æ–±—Ä–æ—Å SAMBA (–ø–æ—Ä—Ç—ã 139, 445) –Ω–∞–ø—Ä—è–º—É—é = –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å!**

**–†–∏—Å–∫–∏:**

- ‚ùå SMB —ç–∫—Å–ø–ª–æ–π—Ç—ã (WannaCry, EternalBlue)
- ‚ùå –ù–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚ùå –õ–µ–≥–∫–æ –≤–∑–ª–æ–º–∞—Ç—å –ø–∞—Ä–æ–ª—å
- ‚ùå DDoS –∞—Ç–∞–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** SSH —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è SAMBA!

---

## ‚úÖ SSH —Ç—É–Ω–Ω–µ–ª—å: –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                                              ‚îÇ
‚îÇ  Cursor (WSL) ‚îÄ‚îÄ‚îê                                            ‚îÇ
‚îÇ                 ‚îÇ                                            ‚îÇ
‚îÇ                 ‚Üì SSH (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ) ‚úÖ                       ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îÇ
‚îÇ  ‚îÇ   SSH —Ç—É–Ω–Ω–µ–ª—å (port 2222)  ‚îÇ                              ‚îÇ
‚îÇ  ‚îÇ   localhost:8445 ‚îÄ‚îÄ‚Üí HA:445‚îÇ                              ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îÇ
‚îÇ                 ‚îÇ                                            ‚îÇ
‚îÇ                 ‚Üì SAMBA (–≤–Ω—É—Ç—Ä–∏ —Ç—É–Ω–Ω–µ–ª—è) üîí                 ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Home Assistant (192.168.1.20:445)                           ‚îÇ
‚îÇ                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ SAMBA —Ç—Ä–∞—Ñ–∏–∫ —à–∏—Ñ—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ SSH
- ‚úÖ –ü–æ—Ä—Ç 445 –ù–ï –æ—Ç–∫—Ä—ã—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SSH –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–∫–ª—é—á–∏)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∫–∞–∫ SSH

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –ü—Ä–æ–±—Ä–æ—Å SSH –Ω–∞ MikroTik

**–ù–∞ —Ä–æ—É—Ç–µ—Ä–µ MikroTik:**

```routeros
/ip firewall nat
add action=netmap chain=dstnat \
    comment="SSH to HA (non-standard port)" \
    dst-address=YOUR_WHITE_IP \
    dst-port=2222 \
    protocol=tcp \
    to-addresses=192.168.1.20 \
    to-ports=22
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**

- `YOUR_WHITE_IP` ‚Üí –≤–∞—à –±–µ–ª—ã–π IP (–Ω–∞–ø—Ä–∏–º–µ—Ä: `203.0.113.10`)

### –®–∞–≥ 2: –ó–∞—â–∏—Ç–∞ –æ—Ç brute-force

```routeros
/ip firewall filter
add action=add-src-to-address-list address-list=ssh_stage1 \
    address-list-timeout=1m chain=forward connection-state=new \
    dst-address=192.168.1.20 dst-port=22 protocol=tcp

add action=add-src-to-address-list address-list=ssh_stage2 \
    address-list-timeout=5m chain=forward connection-state=new \
    dst-address=192.168.1.20 dst-port=22 protocol=tcp \
    src-address-list=ssh_stage1

add action=add-src-to-address-list address-list=ssh_blacklist \
    address-list-timeout=1d chain=forward connection-state=new \
    dst-address=192.168.1.20 dst-port=22 protocol=tcp \
    src-address-list=ssh_stage2

add action=drop chain=forward dst-address=192.168.1.20 \
    dst-port=22 protocol=tcp src-address-list=ssh_blacklist
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∏ –∑–∞ –º–∏–Ω—É—Ç—É = –±–∞–Ω –Ω–∞ —Å—É—Ç–∫–∏

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å SSH —Ç—É–Ω–Ω–µ–ª—å –≤ Cursor

**–í Cursor (WSL):**

```bash
# –°–æ–∑–¥–∞—Ç—å SSH —Ç—É–Ω–Ω–µ–ª—å –¥–ª—è SAMBA
ssh -p 2222 -L 8445:192.168.1.20:445 root@YOUR_WHITE_IP -N -f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
ps aux | grep "ssh.*8445"
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å SSH —Ç—É–Ω–Ω–µ–ª—è
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `-p 2222` - –ø–æ—Ä—Ç SSH
- `-L 8445:192.168.1.20:445` - –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç 8445 ‚Üí HA –ø–æ—Ä—Ç 445
- `-N` - –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã, —Ç–æ–ª—å–∫–æ —Ç—É–Ω–Ω–µ–ª—å
- `-f` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ

### –®–∞–≥ 4: –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å SAMBA —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å

```bash
# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å config —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å
sudo mount -t cifs //localhost:8445/config ~/HASSio/config \
  -o username=homeassistant,password=YOUR_SAMBA_PASSWORD,port=8445

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ls ~/HASSio/config/
# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å configuration.yaml, automations.yaml, –∏ —Ç.–¥.
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å scripts/mount.sh

### –û–±–Ω–æ–≤–∏—Ç—å mount.sh –¥–ª—è SSH —Ç—É–Ω–Ω–µ–ª—è

**–î–æ–±–∞–≤–∏—Ç—å –≤ `scripts/mount.sh`:**

```bash
#!/bin/bash

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (local –∏–ª–∏ remote)
MODE=${MODE:-"local"}

if [ "$MODE" = "remote" ]; then
    # –£–¥–∞–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å

    echo "üåê –°–æ–∑–¥–∞–Ω–∏–µ SSH —Ç—É–Ω–Ω–µ–ª—è..."

    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏!)
    REMOTE_HOST="YOUR_WHITE_IP"
    SSH_PORT="2222"
    LOCAL_TUNNEL_PORT="8445"
    HA_IP="192.168.1.20"
    HA_SAMBA_PORT="445"

    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å –Ω–µ —Å–æ–∑–¥–∞–Ω
    if pgrep -f "ssh.*${LOCAL_TUNNEL_PORT}:${HA_IP}:${HA_SAMBA_PORT}" > /dev/null; then
        echo "‚úÖ SSH —Ç—É–Ω–Ω–µ–ª—å —É–∂–µ —Å–æ–∑–¥–∞–Ω"
    else
        # –°–æ–∑–¥–∞—Ç—å —Ç—É–Ω–Ω–µ–ª—å
        ssh -p "${SSH_PORT}" \
            -L "${LOCAL_TUNNEL_PORT}:${HA_IP}:${HA_SAMBA_PORT}" \
            -o ConnectTimeout=10 \
            -o ServerAliveInterval=60 \
            -o ServerAliveCountMax=3 \
            root@"${REMOTE_HOST}" \
            -N -f

        if [ $? -eq 0 ]; then
            echo "‚úÖ SSH —Ç—É–Ω–Ω–µ–ª—å —Å–æ–∑–¥–∞–Ω"
        else
            echo "‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è SSH —Ç—É–Ω–Ω–µ–ª—è"
            exit 1
        fi
    fi

    # –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å
    SAMBA_HOST="localhost"
    SAMBA_PORT="${LOCAL_TUNNEL_PORT}"
else
    # –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø (–∫–∞–∫ –æ–±—ã—á–Ω–æ)
    SAMBA_HOST="192.168.1.20"
    SAMBA_PORT="445"
fi

# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
echo "üìÅ –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ config..."

sudo mount -t cifs "//${SAMBA_HOST}:${SAMBA_PORT}/config" ~/HASSio/config \
    -o username=homeassistant,password="${SAMBA_PASSWORD}",port="${SAMBA_PORT}"

if [ $? -eq 0 ]; then
    echo "‚úÖ Config —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
    exit 1
fi
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (–¥–æ–º–∞)
./scripts/mount.sh

# –£–¥–∞–ª–µ–Ω–Ω–æ (—á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å)
MODE=remote ./scripts/mount.sh
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–∞ MikroTik:

**‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:**

1. SSH –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É (2222, –Ω–µ 22)
2. Fail2ban: 3 –ø–æ–ø—ã—Ç–∫–∏ = –±–∞–Ω –Ω–∞ —Å—É—Ç–∫–∏
3. SAMBA –ø–æ—Ä—Ç 445 **–ù–ï –ø—Ä–æ–±—Ä–æ—à–µ–Ω** (–±–µ–∑–æ–ø–∞—Å–Ω–æ!)

### –ù–∞ Home Assistant:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:**

```bash
# SSH –≤ HA
nano /etc/ssh/sshd_config

# –ò–∑–º–µ–Ω–∏—Ç—å:
PasswordAuthentication no  # –¢–æ–ª—å–∫–æ –∫–ª—é—á–∏!
PubkeyAuthentication yes
PermitRootLogin prohibit-password

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å
systemctl restart ssh

# Fail2ban (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
apt install fail2ban
systemctl enable fail2ban
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –¢—É–Ω–Ω–µ–ª—å –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
# –¢–µ—Å—Ç SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
ssh -p 2222 root@YOUR_WHITE_IP

# –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Ç—É–Ω–Ω–µ–ª—å —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –£–±–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ç—É–Ω–Ω–µ–ª—å
pkill -f "ssh.*8445"

# –°–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ
ssh -p 2222 -L 8445:192.168.1.20:445 root@YOUR_WHITE_IP -N -f
```

### –ü—Ä–æ–±–ª–µ–º–∞: SAMBA –Ω–µ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
netstat -tlnp | grep 8445
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: tcp 0 0 127.0.0.1:8445 ... LISTEN

# –¢–µ—Å—Ç SAMBA —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å
smbclient -p 8445 -L //localhost -U homeassistant
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ç—É–Ω–Ω–µ–ª—å
pkill -f "ssh.*8445"
ssh -p 2222 -L 8445:192.168.1.20:445 root@YOUR_WHITE_IP -N -f

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
sudo mount -t cifs //localhost:8445/config ~/HASSio/config \
  -o username=homeassistant,password=YOUR_PASSWORD,port=8445
```

### –ü—Ä–æ–±–ª–µ–º–∞: –¢—É–Ω–Ω–µ–ª—å –ø–∞–¥–∞–µ—Ç

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ:**

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
crontab -e

# –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * pgrep -f "ssh.*8445" || ssh -p 2222 -L 8445:192.168.1.20:445 root@YOUR_WHITE_IP -N -f
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –¥–æ—Å—Ç—É–ø–∞

| –ú–µ—Ç–æ–¥ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –†–∞–±–æ—Ç–∞–µ—Ç –≤ –†–§ |
|-------|--------------|----------|-----------|---------------|
| **ZeroTier** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ë—ã—Å—Ç—Ä–æ | –ü—Ä–æ—Å—Ç–∞—è | ‚ùå –ù–µ –≤ –º–æ–±–∏–ª—å–Ω—ã—Ö |
| **SSH —Ç—É–Ω–Ω–µ–ª—å** | ‚≠ê‚≠ê‚≠ê‚≠ê | –ë—ã—Å—Ç—Ä–æ | –°—Ä–µ–¥–Ω—è—è | ‚úÖ –í–µ–∑–¥–µ |
| **–ü—Ä—è–º–æ–π SAMBA** | ‚≠ê | –ë—ã—Å—Ç—Ä–æ | –ü—Ä–æ—Å—Ç–∞—è | ‚ùå –û–ü–ê–°–ù–û! |
| **VPN (WireGuard)** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ë—ã—Å—Ç—Ä–æ | –°–ª–æ–∂–Ω–∞—è | ‚úÖ –í–µ–∑–¥–µ |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### **–î–æ–º–∞ (WiFi):**

```bash
# ZeroTier —Ä–∞–±–æ—Ç–∞–µ—Ç!
ssh root@192.168.1.20
sudo mount -t cifs //192.168.1.20/config ~/HASSio/config
```

### **–í –¥–æ—Ä–æ–≥–µ (–º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –†–§):**

```bash
# SSH —Ç—É–Ω–Ω–µ–ª—å (ZeroTier –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)
ssh -p 2222 -L 8445:192.168.1.20:445 root@YOUR_WHITE_IP -N -f
sudo mount -t cifs //localhost:8445/config ~/HASSio/config -o port=8445
```

### **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–¥–µ –≤—ã:

```bash
# scripts/smart_mount.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ZeroTier
if ping -c 1 -W 2 192.168.1.20 &>/dev/null; then
    # ZeroTier —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏–ª–∏ –¥–æ–º–∞)
    echo "‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø / ZeroTier"
    MODE=local ./scripts/mount.sh
else
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º SSH —Ç—É–Ω–Ω–µ–ª—å
    echo "üåê SSH —Ç—É–Ω–Ω–µ–ª—å"
    MODE=remote ./scripts/mount.sh
fi
```

---

## üîê –í–∞–∂–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### ‚ö†Ô∏è –ù–ò–ö–û–ì–î–ê –Ω–µ –¥–µ–ª–∞–π—Ç–µ:

- ‚ùå –ü—Ä–æ–±—Ä–æ—Å SAMBA –ø–æ—Ä—Ç–æ–≤ 139, 445 –Ω–∞–ø—Ä—è–º—É—é
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–∞–±—ã—Ö –ø–∞—Ä–æ–ª–µ–π –¥–ª—è SAMBA
- ‚ùå SSH –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É 22

### ‚úÖ –í–°–ï–ì–î–ê –¥–µ–ª–∞–π—Ç–µ:

- ‚úÖ SSH –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –ø–æ—Ä—Ç—É (2222, 2233, –∏ —Ç.–¥.)
- ‚úÖ –¢–æ–ª—å–∫–æ SSH –∫–ª—é—á–∏ (–Ω–µ –ø–∞—Ä–æ–ª–∏)
- ‚úÖ SAMBA —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å
- ‚úÖ Fail2ban –∑–∞—â–∏—Ç–∞

---

## üìö –°–º. —Ç–∞–∫–∂–µ

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –≤ HA](./SETUP.md#ssh) - –ø–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SAMBA](./SETUP.md#samba) - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è addon
- [–°–º–µ—à–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º ZeroTier](./zerotier-mixed-mode.md) - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Ç—É–Ω–Ω–µ–ª—é

---

**SSH —Ç—É–Ω–Ω–µ–ª—å = –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å SAMBA —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç!** üîí‚ú®
