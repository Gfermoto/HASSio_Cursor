# üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è n8n —Å Home Assistant

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é n8n –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.

> **üéØ –ù–∞–≤–∏–≥–∞—Ü–∏—è:**
>
> - [ü§µ –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](./n8n-butler-setup.md) - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (20 –º–∏–Ω)
> - [ü§ñ AI –ê–≥–µ–Ω—Ç—ã n8n](./n8n-ai-agents.md) - –ø—Ä–∏–º–µ—Ä—ã 7 –∞–≥–µ–Ω—Ç–æ–≤ —Å –∫–æ–¥–æ–º

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üéØ –ó–∞—á–µ–º n8n –µ—Å–ª–∏ –µ—Å—Ç—å MCP?](#–∑–∞—á–µ–º-n8n-–µ—Å–ª–∏-–µ—Å—Ç—å-mcp)
- [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- [‚öôÔ∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ n8n](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-n8n)
- [üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
- [üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã)
- [üêõ Troubleshooting](#troubleshooting)

---

## üéØ –ó–∞—á–µ–º n8n –µ—Å–ª–∏ –µ—Å—Ç—å NodeRED –∏ MCP?

### –í–∞—à–∞ —Ç–µ–∫—É—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- ‚úÖ **Home Assistant** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- ‚úÖ **NodeRED** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ flow
- ‚úÖ **HA Addons** - –±—ç–∫–∞–ø—ã, Telegram, Samba
- ‚úÖ **MCP (Cursor)** - AI –ø–æ–º–æ—â—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**–ó–∞—á–µ–º –µ—â–µ n8n?**

‚Üí **–¢–æ–ª—å–∫–æ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤** —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ LLM (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –†–§)!

### MCP (Model Context Protocol) - –¥–ª—è AI –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç MCP:**

- ü§ñ AI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ Cursor
- üí¨ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ ‚Üí –∫–æ–º–∞–Ω–¥—ã HA
- üîç –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üìù –ü–æ–º–æ—â—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MCP:**

- ‚ùå –¢–æ–ª—å–∫–æ –≤ Cursor IDE
- ‚ùå –ù–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á
- ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ

### n8n - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏ AI –∞–≥–µ–Ω—Ç–æ–≤

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç n8n:**

- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (cron)
- üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 400+ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- üìä –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- üîÅ –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –∞–≤—Ç–æ–Ω–æ–º–Ω–æ
- ü§ñ **AI Agents** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI, Anthropic, –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ LLM
- üß† **Langchain** - —Å–æ–∑–¥–∞–Ω–∏–µ AI —Ü–µ–ø–æ—á–µ–∫ –∏ –∞–≥–µ–Ω—Ç–æ–≤
- üí¨ **Conversational AI** - —á–∞—Ç-–±–æ—Ç—ã –∏ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ n8n:**

- ‚úÖ **AI-powered workflows** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ LLM
- ‚úÖ **–í–µ–∫—Ç–æ—Ä–Ω—ã–µ –±–∞–∑—ã** - –¥–ª—è RAG (Retrieval-Augmented Generation)
- ‚úÖ **Memory** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Docker/VPS)

### üéØ –ò–¥–µ–∞–ª—å–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è

```mermaid
graph TB
    subgraph "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Cursor + MCP)"
        A[Cursor IDE]
        B[MCP Protocol]
        A --> B
    end

    subgraph "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (n8n)"
        C[n8n Workflows]
        D[–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã]
        C --> D
    end

    subgraph "–£–º–Ω—ã–π –¥–æ–º (Home Assistant)"
        E[Home Assistant]
        F[–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞]
        E --> F
    end

    B --> E
    C --> E
    E --> C

    style A fill:#2196F3
    style C fill:#FF6D5A
    style E fill:#4CAF50
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–º–µ—Å—Ç–µ:**

- **MCP (–≤ Cursor)** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π HA
  - AI –ø–æ–º–æ—â—å –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ YAML
  - –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- **n8n** - –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π –∏ AI –∞–≥–µ–Ω—Ç–æ–≤
  - –°–ª–æ–∂–Ω—ã–µ workflows —Å AI –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
  - –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ AI –∞–≥–µ–Ω—Ç—ã
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
  - –†–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –≤–∞—à–µ–≥–æ —É—á–∞—Å—Ç–∏—è

- **Home Assistant** - –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π hub —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  - –õ–æ–∫–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  - –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ–∞–∫—Ü–∏–∏
  - –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ offline —Ä–∞–±–æ—Ç–∞

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

#### 1. Home Assistant ‚Üí n8n (Webhooks)

```yaml
# HA automation
automation:
  - alias: "–¢—Ä–∏–≥–≥–µ—Ä n8n workflow"
    trigger:
      - platform: state
        entity_id: sensor.outdoor_temperature
        to: "below"
        value_template: "{{ states('input_number.heating_threshold') }}"
    action:
      - service: notify.n8n_webhook
        data:
          message: "Temperature alert"
          temperature: "{{ states('sensor.outdoor_temperature') }}"
```

#### 2. n8n ‚Üí Home Assistant (REST API)

```json
// n8n HTTP Request node
{
  "method": "POST",
  "url": "http://192.168.1.20:8123/api/services/climate/set_temperature",
  "headers": {
    "Authorization": "Bearer YOUR_HA_TOKEN",
    "Content-Type": "application/json"
  },
  "body": {
    "entity_id": "climate.living_room",
    "temperature": 22
  }
}
```

#### 3. –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

```text
HA Event ‚Üí Webhook ‚Üí n8n ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí REST API ‚Üí HA Action
```

---

## ‚öôÔ∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ n8n

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home Assistant

#### 1.1. –°–æ–∑–¥–∞—Ç—å Long-Lived Access Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ Home Assistant
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø—Ä–æ—Ñ–∏–ª—å (–ª–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª)
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ **Long-Lived Access Tokens**
4. –ù–∞–∂–º–∏—Ç–µ **CREATE TOKEN**
5. –ù–∞–∑–≤–∞–Ω–∏–µ: `n8n Integration`
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è!)

#### 1.2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Webhook –≤ HA (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å n8n –∏–∑ HA:

```yaml
# configuration.yaml
notify:
  - name: n8n_webhook
    platform: rest
    resource: "http://192.168.1.XXX:5678/webhook/ha-trigger"
    method: POST_JSON
    headers:
      Content-Type: application/json
    message_param_name: message
```

–ó–∞–º–µ–Ω–∏—Ç–µ:

- `192.168.1.XXX` –Ω–∞ IP –≤–∞—à–µ–≥–æ n8n —Å–µ—Ä–≤–µ—Ä–∞
- `ha-trigger` –Ω–∞ ID –≤–∞—à–µ–≥–æ webhook –≤ n8n

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ n8n

#### 2.1. –°–æ–∑–¥–∞—Ç—å Credential –¥–ª—è Home Assistant

–í n8n:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Credentials**
2. –ù–∞–∂–º–∏—Ç–µ **Add Credential**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Home Assistant API**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name**: `Home Assistant`
   - **Host**: `http://192.168.1.20:8123` (–≤–∞—à HA)
   - **Access Token**: —Ç–æ–∫–µ–Ω –∏–∑ —à–∞–≥–∞ 1.1
5. **Save**

#### 2.2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π Workflow

1. **New Workflow**
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–¥—ã:
   - **Webhook** (—Ç—Ä–∏–≥–≥–µ—Ä)
   - **Home Assistant** (–ø–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
   - **Switch** (—É—Å–ª–æ–≤–∏–µ)
   - **Home Assistant** (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ)
3. **Save** ‚Üí **Activate**

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å n8n –≤ –ø—Ä–æ–µ–∫—Ç HASSio_Cursor

#### 3.1. –û–±–Ω–æ–≤–∏—Ç—å config.yml

–î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ü–∏—é –≤ `config.yml`:

```yaml
# n8n Integration
n8n:
  enabled: true
  url_local: "http://192.168.1.XXX:5678"
  url_external: "https://n8n.yourdomain.com"  # –ï—Å–ª–∏ –µ—Å—Ç—å
  api_key: "your_n8n_api_key"  # –ò–∑ n8n: Settings ‚Üí API
  webhooks:
    base_url: "http://192.168.1.XXX:5678/webhook"
    ha_trigger: "ha-trigger"  # ID webhook –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∏–∑ HA
```

–ó–∞–º–µ–Ω–∏—Ç–µ:

- `192.168.1.XXX` –Ω–∞ IP –≤–∞—à–µ–≥–æ n8n
- `your_n8n_api_key` –Ω–∞ API –∫–ª—é—á –∏–∑ n8n

#### 3.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
#!/bin/bash
# scripts/check_n8n.sh

source "$(dirname "$0")/lib_config.sh"

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ n8n..."
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
if curl -s -f "$N8N_URL/healthz" > /dev/null 2>&1; then
    echo "‚úÖ n8n –¥–æ—Å—Ç—É–ø–µ–Ω: $N8N_URL"
else
    echo "‚ùå n8n –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: $N8N_URL"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
response=$(curl -s -H "X-N8N-API-KEY: $N8N_API_KEY" \
    "$N8N_URL/api/v1/workflows" 2>/dev/null)

if [ $? -eq 0 ]; then
    workflow_count=$(echo "$response" | jq -r '.data | length' 2>/dev/null || echo "?")
    echo "‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç"
    echo "üìä –ê–∫—Ç–∏–≤–Ω—ã—Ö workflows: $workflow_count"
else
    echo "‚ùå API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á)"
    exit 1
fi

echo ""
echo "‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è n8n –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!"
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
chmod +x scripts/check_n8n.sh
./scripts/check_n8n.sh
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üå°Ô∏è 1. –£–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ç–æ–ø–ª–µ–Ω–∏—è (15 –∑–æ–Ω!)

**–ü—Ä–æ–±–ª–µ–º–∞:**
HA –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –≤ —Å–ª–æ–∂–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–∞—Ö –ø–æ–≥–æ–¥–Ω–æ–π –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Smart Heating Optimization"

–¢—Ä–∏–≥–≥–µ—Ä: Cron (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç)
  ‚Üì
–ù–æ–¥–∞: HTTP Request ‚Üí API –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã (Gismeteo/OpenWeatherMap)
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –†–∞—Å—á–µ—Ç –ø–æ–≥–æ–¥–æ–∑–∞–≤–∏—Å–∏–º–æ–π –∫—Ä–∏–≤–æ–π
  –í—Ö–æ–¥–Ω—ã–µ: outdoor_temp_forecast, wind, humidity
  –ê–ª–≥–æ—Ä–∏—Ç–º: target = 25 - (outdoor * 0.5) - (wind * 0.1)
  –í—ã—Ö–æ–¥: temperature_targets –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã
  ‚Üì
–ù–æ–¥–∞: Loop —á–µ—Ä–µ–∑ 15 –∑–æ–Ω ‚Üí Home Assistant API
  climate.set_temperature –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã
  ‚Üì
–ù–æ–¥–∞: Telegram ‚Üí –û—Ç—á–µ—Ç –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã. –≠–∫–æ–Ω–æ–º–∏—è: ~150 —Ä—É–±/–¥–µ–Ω—å"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –°–ª–æ–∂–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –≤–Ω–µ HA
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª—é–±—ã–º–∏ API –ø–æ–≥–æ–¥—ã
- ‚úÖ –õ–µ–≥–∫–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### üìπ 2. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã —Å –∫–∞–º–µ—Ä

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ú–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –æ—Ç –¥–∞—Ç—á–∏–∫–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Smart Camera Alerts"

–¢—Ä–∏–≥–≥–µ—Ä: Webhook –æ—Ç HA (binary_sensor.motion = on)
  ‚Üì
–ù–æ–¥–∞: Home Assistant ‚Üí –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
  –ï—Å–ª–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π > 10 –∑–∞ —á–∞—Å ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ –ª–æ–∂–Ω–æ–µ (–∂–∏–≤–æ—Ç–Ω–æ–µ, —Å–≤–µ—Ç)
  –ï—Å–ª–∏ —Ä–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ + –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è ‚Üí –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç HIGH
  ‚Üì
–ù–æ–¥–∞: Switch (–≤–µ—Ç–≤–ª–µ–Ω–∏–µ)
  Case 1: –õ–æ–∂–Ω–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ ‚Üí –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
  Case 2: –í–∞–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç
  Case 3: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ ‚Üí –∞–ª–µ—Ä—Ç + snapshot –∫–∞–º–µ—Ä—ã
  ‚Üì
–ù–æ–¥–∞: Telegram ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
  "üö® –ß–µ–ª–æ–≤–µ–∫ –Ω–∞ –ø–µ—Ä–∏–º–µ—Ç—Ä–µ (—Ä–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ, –Ω–æ—á—å)"
  + –§–æ—Ç–æ —Å –∫–∞–º–µ—Ä—ã
  + –ò—Å—Ç–æ—Ä–∏—è –∑–∞ —á–∞—Å
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Ç—Ä–µ–≤–æ–≥
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### üìä 3. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
HA –Ω–µ —É–º–µ–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –æ—Ç—á–µ—Ç—ã.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Weekly Energy Report"

–¢—Ä–∏–≥–≥–µ—Ä: Cron (–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ 9:00)
  ‚Üì
–ù–æ–¥–∞: Home Assistant ‚Üí –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞ –Ω–µ–¥–µ–ª—é
  - sensor.energy_consumed
  - sensor.heating_power
  - sensor.lights_power
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –†–∞—Å—á–µ—Ç—ã
  - Total consumption
  - Cost calculation (—Ç–∞—Ä–∏—Ñ –¥–µ–Ω—å/–Ω–æ—á—å)
  - Comparison —Å –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–µ–π
  - Top-5 –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π
  ‚Üì
–ù–æ–¥–∞: Google Sheets ‚Üí –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö
  –ò—Å—Ç–æ—Ä–∏—è –∑–∞ –≥–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤
  ‚Üì
–ù–æ–¥–∞: HTTP Request ‚Üí Chart.js API
  –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
  ‚Üì
–ù–æ–¥–∞: Telegram ‚Üí –û—Ç—á–µ—Ç
  üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç:
  ‚ö° –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: 150 –∫–í—Ç*—á (-12% –æ—Ç –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–∏)
  üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: 750 —Ä—É–±
  üîù –¢–æ–ø –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å: –û—Ç–æ–ø–ª–µ–Ω–∏–µ (60%)
  [–ì—Ä–∞—Ñ–∏–∫]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets/Excel
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### üîÑ 4. –ë—ç–∫–∞–ø—ã –≤ –æ–±–ª–∞–∫–æ

**–ü—Ä–æ–±–ª–µ–º–∞:**
–õ–æ–∫–∞–ª—å–Ω—ã–µ –±—ç–∫–∞–ø—ã –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö —Å–±–æ–µ–≤.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Cloud Backup Automation"

–¢—Ä–∏–≥–≥–µ—Ä: Webhook –æ—Ç HA (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ backup)
  ‚Üì
–ù–æ–¥–∞: SSH ‚Üí –°–∫–∞—á–∞—Ç—å –±—ç–∫–∞–ø —Å HA
  scp root@192.168.1.20:/backup/latest.tar /tmp/
  ‚Üì
–ù–æ–¥–∞: Compression ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä
  –ï—Å–ª–∏ > 500MB ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
  ‚Üì
–ù–æ–¥–∞: Yandex Disk / Dropbox ‚Üí –ó–∞–≥—Ä—É–∑–∏—Ç—å
  –ü—É—Ç—å: /HomeAssistant/Backups/2025-10/
  –ò–º—è: backup-2025-10-08-12-00.tar.gz
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí Cleanup —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤
  –£–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
  ‚Üì
Noda: HTTP Request ‚Üí HA API
  –û–±–Ω–æ–≤–∏—Ç—å sensor.last_cloud_backup
  ‚Üì
–ù–æ–¥–∞: Telegram ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  "‚úÖ –ë—ç–∫–∞–ø –∑–∞–≥—Ä—É–∂–µ–Ω –≤ –æ–±–ª–∞–∫–æ (150MB, 2.3 —Å–µ–∫)"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### ü§ñ 5. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π Telegram –±–æ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:**
HA Telegram integration –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Advanced Telegram Bot"

–¢—Ä–∏–≥–≥–µ—Ä: Telegram ‚Üí –ö–æ–º–∞–Ω–¥—ã
  /status ‚Üí –°—Ç–∞—Ç—É—Å –¥–æ–º–∞
  /heating <temp> ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
  /cameras ‚Üí Snapshots –≤—Å–µ—Ö –∫–∞–º–µ—Ä
  /report ‚Üí –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç
  ‚Üì
–ù–æ–¥–∞: Switch ‚Üí –†–æ—É—Ç–∏–Ω–≥ –∫–æ–º–∞–Ω–¥
  ‚Üì
–í–µ—Ç–∫–∞ 1: /status
  Home Assistant ‚Üí –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  Function ‚Üí –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  Telegram ‚Üí –ö—Ä–∞—Å–∏–≤—ã–π —Å—Ç–∞—Ç—É—Å —Å —ç–º–æ–¥–∑–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏

–í–µ—Ç–∫–∞ 2: /heating
  Validation ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (16-26¬∞C)
  Home Assistant ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å climate –¥–ª—è 15 –∑–æ–Ω
  Telegram ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ + –ø—Ä–æ–≥–Ω–æ–∑ —Ä–∞—Å—Ö–æ–¥–∞

–í–µ—Ç–∫–∞ 3: /cameras
  Loop ‚Üí –ü–æ–ª—É—á–∏—Ç—å snapshots —Å–æ –≤—Å–µ—Ö –∫–∞–º–µ—Ä
  Image processing ‚Üí Resize/watermark
  Telegram ‚Üí –ê–ª—å–±–æ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

–í–µ—Ç–∫–∞ 4: /report
  Home Assistant ‚Üí –ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
  Function ‚Üí –ê–Ω–∞–ª–∏–∑
  Chart API ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
  Telegram ‚Üí –û—Ç—á–µ—Ç —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ö–Ω–æ–ø–∫–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- ‚úÖ –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –º–µ–¥–∏–∞

### üì° 6. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
HA –Ω–µ —É–º–µ–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –º–Ω–æ–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã (GitHub, VPS, –¥–æ–º–µ–Ω—ã).

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "External Services Monitor"

–¢—Ä–∏–≥–≥–µ—Ä: Cron (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
  ‚Üì
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:

  –í–µ—Ç–∫–∞ 1: GitHub Actions
    HTTP ‚Üí GitHub API
    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–∏—Ö runs
    –ï—Å–ª–∏ failed ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

  –í–µ—Ç–∫–∞ 2: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    HTTP ‚Üí Check cert expiry
    –ï—Å–ª–∏ < 7 –¥–Ω–µ–π ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

  –í–µ—Ç–∫–∞ 3: –í–Ω–µ—à–Ω–∏–µ IP
    HTTP ‚Üí myip.com
    –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å DNS

  –í–µ—Ç–∫–∞ 4: VPS uptime
    HTTP ‚Üí Healthcheck endpoints
    –ï—Å–ª–∏ down ‚Üí –∞–ª–µ—Ä—Ç
  ‚Üì
Merge ‚Üí –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  ‚Üì
Home Assistant ‚Üí –û–±–Ω–æ–≤–∏—Ç—å sensors
  sensor.github_status: "ok"
  sensor.ssl_expiry: 45
  sensor.external_ip: "1.2.3.4"
  ‚Üì
–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Üí Telegram
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HA –¥–∞—à–±–æ—Ä–¥–æ–º

### ‚ö° 7. –£–º–Ω–æ–µ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ù—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∞—Ä–∏—Ñ—ã –¥–µ–Ω—å/–Ω–æ—á—å –∏ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Smart Power Management"

–¢—Ä–∏–≥–≥–µ—Ä: Cron (–∫–∞–∂–¥—ã–π —á–∞—Å)
  ‚Üì
–ù–æ–¥–∞: Home Assistant ‚Üí –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
  sensor.total_power
  ‚Üì
–ù–æ–¥–∞: HTTP ‚Üí API —ç–Ω–µ—Ä–≥–æ—Å–±—ã—Ç–∞ (—Ç–∞—Ä–∏—Ñ—ã)
  –£–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ (–¥–µ–Ω—å/–Ω–æ—á—å/–ø–∏–∫)
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí Predictive analysis
  –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —á–∞—Å
  –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
  ‚Üì
–ù–æ–¥–∞: Switch ‚Üí –†–µ—à–µ–Ω–∏—è

  Case 1: –ü–∏–∫ + –≤—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
    ‚Üí –í—ã–∫–ª—é—á–∏—Ç—å –Ω–µ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    ‚Üí HA: switch.water_heater = off

  Case 2: –ù–æ—á–Ω–æ–π —Ç–∞—Ä–∏—Ñ + –Ω–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
    ‚Üí –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
    ‚Üí HA: switch.dishwasher = on (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∞)

  Case 3: –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    ‚Üí –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
  ‚Üì
–ù–æ–¥–∞: Home Assistant ‚Üí –û–±–Ω–æ–≤–∏—Ç—å input_select.power_mode
  "peak" | "night" | "normal"
  ‚Üì
–ù–æ–¥–∞: Google Sheets ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  Timestamp, consumption, tariff, cost, actions
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è 15-30% –Ω–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

### üîî 8. –ê–≥—Ä–µ–≥–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:**
–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç HA (—Å–ø–∞–º).

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Smart Notification Aggregator"

–¢—Ä–∏–≥–≥–µ—Ä: Webhook –æ—Ç HA (–ª—é–±–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è
  –°–æ–±–∏—Ä–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
  –ü–æ —Ç–∏–ø—É: –∫—Ä–∏—Ç–∏—á–Ω—ã–µ, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  –ü–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É: –∫–∞–º–µ—Ä—ã, –¥–∞—Ç—á–∏–∫–∏, —Å–∏—Å—Ç–µ–º–∞
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –ü—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏—è
  –ö—Ä–∏—Ç–∏—á–Ω—ã–µ: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ä–∞–∑—É
  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è: –±–∞—Ç—á —Ä–∞–∑ –≤ —á–∞—Å
  –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –±–∞—Ç—á —Ä–∞–∑ –≤ –¥–µ–Ω—å
  ‚Üì
–ù–æ–¥–∞: Switch ‚Üí –ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É

  Critical:
    Telegram ‚Üí Instant push
    + Phone call (–µ—Å–ª–∏ –Ω–æ—á—å)

  Warning:
    Telegram ‚Üí –ë–∞—Ç—á —á–µ—Ä–µ–∑ —á–∞—Å

  Info:
    Telegram ‚Üí Daily digest
  ‚Üì
–ù–æ–¥–∞: Database ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ù–µ—Ç —Å–ø–∞–º–∞
- ‚úÖ –í–∞–∂–Ω–æ–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è

### üîê 9. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ù—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Security Monitoring"

–¢—Ä–∏–≥–≥–µ—Ä: Webhook –æ—Ç HA
  - –ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞
  - –ù–æ–≤–æ–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
  - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
  - IP –∞–¥—Ä–µ—Å
  - –ß–∞—Å—Ç–æ—Ç–∞ (–µ—Å—Ç—å –ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –∞—Ç–∞–∫–∏?)
  ‚Üì
–ù–æ–¥–∞: Database ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å blacklist
  –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–µ IP
  ‚Üì
–ù–æ–¥–∞: Switch ‚Üí –£—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã

  High:
    ‚Üí MikroTik API: –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP
    ‚Üí HA: –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —Ç—Ä–µ–≤–æ–≥–∏
    ‚Üí Telegram: –∫—Ä–∏—Ç–∏—á–Ω—ã–π –∞–ª–µ—Ä—Ç
    ‚Üí Email: –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

  Medium:
    ‚Üí Telegram: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    ‚Üí Log –≤ –±–∞–∑—É

  Low:
    ‚Üí –¢–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  ‚Üì
–ù–æ–¥–∞: Google Sheets ‚Üí Security Log
  –ò—Å—Ç–æ—Ä–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üåê 10. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IoT –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

**Use case:**
–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (Tuya, Xiaomi, Zigbee).

**–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ n8n:**

```text
n8n Workflow: "Multi-Platform Sync"

–¢—Ä–∏–≥–≥–µ—Ä: Cron (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
  ‚Üì
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ:

  Tuya Cloud API ‚Üí –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è
  Xiaomi Cloud API ‚Üí –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è
  MQTT ‚Üí Zigbee2MQTT –¥–∞–Ω–Ω—ã–µ
  ‚Üì
Merge ‚Üí –û–±—ä–µ–¥–∏–Ω–∏—Ç—å
  ‚Üì
–ù–æ–¥–∞: Function ‚Üí –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É
  ‚Üì
–ù–æ–¥–∞: Home Assistant ‚Üí –û–±–Ω–æ–≤–∏—Ç—å MQTT sensors
  –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ HA MQTT
  ‚Üì
–ù–æ–¥–∞: Database ‚Üí –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –æ–±–ª–∞–∫–æ–≤
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

---

## üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: Webhook —Ç—Ä–∏–≥–≥–µ—Ä –∏–∑ HA

**HA Automation:**

```yaml
automation:
  - alias: "–ù–∏–∑–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ ‚Üí n8n"
    trigger:
      - platform: numeric_state
        entity_id: sensor.outdoor_temperature
        below: 0
    action:
      - service: rest_command.n8n_heating_alert
        data:
          temperature: "{{ states('sensor.outdoor_temperature') }}"
          forecast: "{{ state_attr('weather.home', 'forecast') }}"
```

**HA Configuration:**

```yaml
rest_command:
  n8n_heating_alert:
    url: "http://192.168.1.XXX:5678/webhook/heating-alert"
    method: POST
    content_type: "application/json"
    payload: >
      {
        "temperature": {{ temperature }},
        "forecast": {{ forecast }},
        "timestamp": "{{ now().isoformat() }}"
      }
```

### –ü—Ä–∏–º–µ—Ä 2: n8n —É–ø—Ä–∞–≤–ª—è–µ—Ç HA

**n8n HTTP Request node:**

```json
{
  "method": "POST",
  "url": "http://192.168.1.20:8123/api/services/light/turn_on",
  "authentication": "genericCredentialType",
  "genericAuthType": "httpHeaderAuth",
  "httpHeaderAuth": {
    "name": "Authorization",
    "value": "Bearer YOUR_HA_TOKEN"
  },
  "bodyParameters": {
    "entity_id": "light.living_room",
    "brightness": 255,
    "rgb_color": [255, 0, 0]
  }
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ HA

**n8n Home Assistant node:**

```json
{
  "operation": "getState",
  "entityId": "sensor.outdoor_temperature",
  "credentials": "Home Assistant"
}
```

**–í—ã–≤–æ–¥:**

```json
{
  "state": "5.2",
  "attributes": {
    "unit_of_measurement": "¬∞C",
    "friendly_name": "Outdoor Temperature"
  }
}
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ Home Assistant

‚úÖ **–ü—Ä–æ—Å—Ç—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
- –í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
- –ó–∞–∫—Ä—ã—Ç—å —à—Ç–æ—Ä—ã –Ω–∞ –∑–∞–∫–∞—Ç–µ
- –ë–∞–∑–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è –≤—Ä–µ–º–µ–Ω–∏/—Å–æ—Å—Ç–æ—è–Ω–∏—è

‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ–∞–∫—Ü–∏–∏
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ n8n

‚úÖ **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- –†–∞—Å—á–µ—Ç—ã –∏ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
- –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

‚úÖ **–í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- API —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–≥—Ä–∞—Ñ–∏–∫–∏, –æ—Ç—á–µ—Ç—ã)

‚úÖ **–î–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
- –ë—ç–∫–∞–ø—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ MCP (Cursor)

‚úÖ **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
- –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π
- –û—Ç–ª–∞–¥–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º

‚úÖ **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
- –ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

---

## üöÄ Quick Start

### 1. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç)

```bash
# 1. –î–æ–±–∞–≤—å—Ç–µ –≤ config.yml
nano config.yml

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
nano scripts/check_n8n.sh
chmod +x scripts/check_n8n.sh

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
./scripts/check_n8n.sh
```

### 2. –ü–µ—Ä–≤—ã–π workflow (10 –º–∏–Ω—É—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ n8n
2. Create new workflow: "HA Status Check"
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–¥—ã:
   - **Webhook** (—Ç—Ä–∏–≥–≥–µ—Ä)
   - **Home Assistant** ‚Üí Get States
   - **Telegram** ‚Üí Send message
4. Activate workflow
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑ HA

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤:

- [n8n Documentation](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.homeassistant/)
- [Home Assistant REST API](https://developers.home-assistant.io/docs/api/rest/)
- [Webhook Automation](https://www.home-assistant.io/docs/automation/trigger/#webhook-trigger)

---

## üêõ Troubleshooting

### n8n –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ HA

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å HA**

```bash
curl -I http://192.168.1.20:8123
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Long-Lived Token**

```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
     http://192.168.1.20:8123/api/
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å message: "API running"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 3: CORS (–µ—Å–ª–∏ n8n –Ω–∞ –¥—Ä—É–≥–æ–º —Ö–æ—Å—Ç–µ)**

–î–æ–±–∞–≤—å—Ç–µ –≤ HA `configuration.yaml`:

```yaml
http:
  cors_allowed_origins:
    - "http://192.168.1.XXX:5678"  # IP –≤–∞—à–µ–≥–æ n8n
```

### HA –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç webhook –æ—Ç n8n

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Webhook URL**

n8n webhook –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å:

```text
http://192.168.1.20:8123/api/webhook/YOUR_WEBHOOK_ID
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: Automation –≤ HA**

```yaml
automation:
  - alias: "Test n8n webhook"
    trigger:
      - platform: webhook
        webhook_id: "n8n_test"  # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç ID –≤ n8n
    action:
      - service: notify.telegram
        data:
          message: "Webhook from n8n received!"
```

### –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ workflows

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ IP (–Ω–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
2. –ö–µ—à–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ batching
4. Async –æ–ø–µ—Ä–∞—Ü–∏–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [n8n –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.n8n.io/)
- [n8n Home Assistant node](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.homeassistant/)
- [Home Assistant REST API](https://developers.home-assistant.io/docs/api/rest/)
- [Community workflows](https://n8n.io/workflows/)

---

## üí° –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (webhook)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å 2-3 –ø—Ä–æ—Å—Ç—ã—Ö workflow
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
4. ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤ n8n
5. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ workflows

---

**–°–æ–≤–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ (webhook —Ç—Ä–∏–≥–≥–µ—Ä), –∑–∞—Ç–µ–º –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å!
