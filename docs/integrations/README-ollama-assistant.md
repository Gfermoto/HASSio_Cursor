# ü§ñ –¢–µ–∫—Å—Ç–æ–≤—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è Home Assistant —Å Ollama

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Home Assistant —á–µ—Ä–µ–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫ –≤ Telegram. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Ollama** (100% –ª–æ–∫–∞–ª—å–Ω–æ) + **Langchain Agent** —Å –ø–∞–º—è—Ç—å—é.

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º:** –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ, —è—Ä–∫–æ—Å—Ç—å
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–æ–º:** —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- ‚úÖ **–ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω:** –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π
- ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:** –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å –¥–∞—Ç—á–∏–∫–æ–≤
- ‚úÖ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫:** –ø–∏—à–∏—Ç–µ –∫–∞–∫ —É–¥–æ–±–Ω–æ
- ‚úÖ **–ü–∞–º—è—Ç—å –¥–∏–∞–ª–æ–≥–∞:** –ø–æ–º–Ω–∏—Ç 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ **100% –ª–æ–∫–∞–ª—å–Ω–æ:** —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚úÖ **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:** –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à—É —Å–µ—Ç—å

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

| –°–µ—Ä–≤–∏—Å | –¶–µ–Ω–∞ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è |
|--------|------|------------|
| **Ollama** | ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞** | GPU 4GB+ |
| **Telegram** | ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤ |
| **Home Assistant** | ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –ë–µ–∑ –ª–∏–º–∏—Ç–æ–≤ |

**–ò—Ç–æ–≥–æ: ‚ÇΩ0/–º–µ—Å—è—Ü, —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞!** üéâ

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```text
```text
Telegram (—Ç–µ–∫—Å—Ç)
   ‚Üì
Langchain Agent
   ‚îú‚îÄ Ollama (phi3:mini –ª–æ–∫–∞–ª—å–Ω–æ)
   ‚îú‚îÄ Memory (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
   ‚îî‚îÄ 5 HA Tools
   ‚Üì
Home Assistant
   ‚Üì
Telegram (–æ—Ç–≤–µ—Ç)
```text

**16 —É–∑–ª–æ–≤** - Langchain –ø–æ–¥—Ö–æ–¥ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º AI!

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ü–û

1. **Ollama –Ω–∞ Proxmox —Å GPU** - —Å–º. [OLLAMA-PROXMOX-SETUP.md](./OLLAMA-PROXMOX-SETUP.md)
2. **n8n** - –ª—é–±–∞—è –≤–µ—Ä—Å–∏—è —Å Langchain —É–∑–ª–∞–º–∏
3. **Home Assistant** - –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ API
4. **Telegram Bot** - —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ [@BotFather](https://t.me/botfather)

### –ú–æ–¥–µ–ª—å Ollama

**–î–ª—è GTX 1050 Ti (4GB):**
- `phi3:mini` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - 2.3GB
- `llama3.2:3b` - 2GB
- `qwen2.5:3b` - 2GB

**–î–ª—è GTX 1060 (6GB):**
- `llama3.1:8b` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - 4.7GB

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: [OLLAMA-PROXMOX-SETUP.md](./OLLAMA-PROXMOX-SETUP.md)

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- ‚úÖ Ollama —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://<IP>:11434`
- ‚úÖ –ú–æ–¥–µ–ª—å —Å–∫–∞—á–∞–Ω–∞: `ollama list`
- ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω: `curl http://<IP>:11434/api/tags`

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ Telegram Bot

```bash
```bash
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather –≤ Telegram
# 2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: /newbot
# 3. –£–∫–∞–∂–∏—Ç–µ –∏–º—è: "My Home Assistant Bot"
# 4. –£–∫–∞–∂–∏—Ç–µ username: "my_ha_bot" (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ _bot)
# 5. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# 6. –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π Telegram ID
# –û—Ç–∫—Ä–æ–π—Ç–µ @userinfobot –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
# ID –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ: 154544865
```text

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ n8n Credentials

#### 3.1 Telegram Bot

```bash
```bash
n8n ‚Üí Credentials ‚Üí Add Credential ‚Üí Telegram API
```text

–í–≤–µ–¥–∏—Ç–µ:
- **Access Token:** `123456789:ABCdefGHI...` (–æ—Ç BotFather)
- **Name:** `Telegram Bot`

#### 3.2 Home Assistant API

```bash
```bash
n8n ‚Üí Credentials ‚Üí Add Credential ‚Üí HTTP Header Auth
```text

–í–≤–µ–¥–∏—Ç–µ:
- **Name:** `Authorization`
- **Value:** `Bearer YOUR_HA_LONG_LIVED_TOKEN`
- **Credential Name:** `Home Assistant API`

–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω HA:
1. Home Assistant ‚Üí –ü—Ä–æ—Ñ–∏–ª—å (–≤–Ω–∏–∑—É —Å–ª–µ–≤–∞)
2. Scroll –≤–Ω–∏–∑ ‚Üí **Long-Lived Access Tokens**
3. **Create Token** ‚Üí –≤–≤–µ–¥–∏—Ç–µ –∏–º—è: `n8n`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### –®–∞–≥ 4: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ workflow

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `n8n-voice-assistant-ollama.json`
2. –í n8n ‚Üí **Import from File** ‚Üí –≤—Å—Ç–∞–≤—å—Ç–µ JSON
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è workflow —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏

### –®–∞–≥ 5: –ó–∞–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∑–∞–º–µ–Ω–∏—Ç–µ:**

1. **Telegram Trigger (—É–∑–µ–ª 1):**
   - `userIds`: –≤–∞—à Telegram ID (–Ω–∞–ø—Ä–∏–º–µ—Ä `154544865`)
   - `credentials`: –≤—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Telegram credential

2. **Ollama Model (—É–∑–µ–ª 8):**
   - `baseURL`: `http://YOUR_OLLAMA_IP:11434` (IP LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
   - `model`: `phi3:mini` (–∏–ª–∏ –≤–∞—à–∞ –º–æ–¥–µ–ª—å)

3. **HA: Get All States (—É–∑–µ–ª 6):**
   - `url`: `http://YOUR_HA_IP:8123/api/states`
   - `credentials`: –≤—ã–±–µ—Ä–∏—Ç–µ Home Assistant credential

4. **–í—Å–µ Telegram —É–∑–ª—ã:**
   - `credentials`: –≤—ã–±–µ—Ä–∏—Ç–µ Telegram credential

5. **Tools (—É–∑–ª—ã 10-14):**
   - –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ workflows –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (—Å–º. –Ω–∏–∂–µ)
   - –ó–∞–º–µ–Ω–∏—Ç–µ `YOUR_WORKFLOW_ID_*` –Ω–∞ ID —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö workflows

---

## üîß –°–æ–∑–¥–∞–Ω–∏–µ Tool Workflows

–ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (Tool) - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å—Ç–æ–π workflow.

### Tool 1: Turn On Light

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π workflow:

```json
```json
{
  "nodes": [
    {
      "parameters": {
        "method": "POST",
        "url": "http://YOUR_HA_IP:8123/api/services/light/turn_on",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "entity_id",
              "value": "={{ $json.entity_id }}"
            }
          ]
        }
      },
      "name": "HA: Turn On",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [240, 300],
      "credentials": {
        "httpHeaderAuth": {
          "id": "YOUR_HA_CREDENTIAL_ID",
          "name": "Home Assistant API"
        }
      }
    }
  ]
}
```text

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ID workflow –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `Tool: Turn On Light`

### Tool 2: Turn Off Light

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Tool 1, –Ω–æ:
- `url`: `.../light/turn_off`

### Tool 3: Set Temperature

```json
```json
{
  "bodyParameters": {
    "parameters": [
      {
        "name": "entity_id",
        "value": "={{ $json.entity_id }}"
      },
      {
        "name": "temperature",
        "value": "={{ $json.temperature }}"
      }
    ]
  }
}
```text

- `url`: `.../climate/set_temperature`

### Tool 4: Activate Scene

- `url`: `.../scene/turn_on`
- –ü–∞—Ä–∞–º–µ—Ç—Ä: `entity_id`

### Tool 5: Get Sensor State

```json
```json
{
  "method": "GET",
  "url": "http://YOUR_HA_IP:8123/api/states/={{ $json.entity_id }}"
}
```text

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ–Ω—Å–æ—Ä–∞.

---

## ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è

1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –≤—Å–µ workflows (–≥–ª–∞–≤–Ω—ã–π + 5 tools)
2. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ** –≥–ª–∞–≤–Ω—ã–π workflow (–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
3. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram** ‚Üí –Ω–∞–π–¥–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

–î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ! üéâ

---

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º

```text
```text
–í—ã: –í–∫–ª—é—á–∏ —Å–≤–µ—Ç –Ω–∞ –∫—É—Ö–Ω–µ
AI: –°–≤–µ—Ç –Ω–∞ –∫—É—Ö–Ω–µ –≤–∫–ª—é—á–µ–Ω ‚úÖ

–í—ã: –í—ã–∫–ª—é—á–∏ –≤—Å–µ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∏ –≤ —Å–ø–∞–ª—å–Ω–µ
AI: –í—ã–∫–ª—é—á–∏–ª 3 —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–∞ –≤ —Å–ø–∞–ª—å–Ω–µ
```text

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–æ–º

```text
```text
–í—ã: –°–¥–µ–ª–∞–π –≤ –≥–æ—Å—Ç–∏–Ω–æ–π 22 –≥—Ä–∞–¥—É—Å–∞
AI: –£—Å—Ç–∞–Ω–æ–≤–∏–ª —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É 22¬∞C –≤ –≥–æ—Å—Ç–∏–Ω–æ–π

–í—ã: –°–¥–µ–ª–∞–π –ø–æ—Ç–µ–ø–ª–µ–µ
AI: –ü–æ–≤—ã—Å–∏–ª —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –¥–æ 23¬∞C
```text

### –ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω

```text
```text
–í—ã: –ó–∞–ø—É—Å—Ç–∏ –≤–µ—á–µ—Ä–Ω–∏–π —Ä–µ–∂–∏–º
AI: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª —Å—Ü–µ–Ω—É "–í–µ—á–µ—Ä–Ω–∏–π —Ä–µ–∂–∏–º" ‚úÖ

–í—ã: –í–∫–ª—é—á–∏ —É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π
AI: –ó–∞–ø—É—Å—Ç–∏–ª —Å—Ü–µ–Ω—É "–£—Ç—Ä–æ"
```text

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```text
```text
–í—ã: –ö–∞–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –∫–æ–º–Ω–∞—Ç–µ?
AI: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –∫–æ–º–Ω–∞—Ç–µ: 21.5¬∞C

–í—ã: –ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è
AI: –î–∞—Ç—á–∏–∫ –≤ –∫–æ—Ä–∏–¥–æ—Ä–µ: –¥–≤–∏–∂–µ–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
    –î–∞—Ç—á–∏–∫ –≤ —Å–ø–∞–ª—å–Ω–µ: –Ω–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è
```text

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```text
```text
/help - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
/clear - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞
```text

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Ollama

```bash
```bash
# –ù–∞ –≤–∞—à–µ–π —Ä–∞–±–æ—á–µ–π –º–∞—à–∏–Ω–µ
curl http://YOUR_OLLAMA_IP:11434/api/generate -d '{
  "model": "phi3:mini",
  "prompt": "–ü—Ä–∏–≤–µ—Ç!",
  "stream": false
}'

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –æ—Ç–≤–µ—Ç–æ–º
```text

### –ü—Ä–æ–≤–µ—Ä–∫–∞ HA API

```bash
```bash
curl -H "Authorization: Bearer YOUR_HA_TOKEN" \
  http://YOUR_HA_IP:8123/api/states/light.kitchen

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
```text

### –õ–æ–≥–∏ n8n

```bash
```bash
# –í n8n ‚Üí Executions ‚Üí –Ω–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫ ‚Üí –∫–ª–∏–∫–Ω–∏—Ç–µ
# –°–º–æ—Ç—Ä–∏—Ç–µ –æ—à–∏–±–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ
```text

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

**–û—à–∏–±–∫–∞: "Connection refused" –Ω–∞ Ollama**

–†–µ—à–µ–Ω–∏–µ:
```bash
```bash
# –í LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
systemctl status ollama
ss -tulpn | grep 11434

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: 0.0.0.0:11434
```text

**–û—à–∏–±–∫–∞: "Unauthorized" –Ω–∞ HA API**

–†–µ—à–µ–Ω–∏–µ:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Home Assistant token
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ Long-Lived Token
- –û–±–Ω–æ–≤–∏—Ç–µ credential –≤ n8n

**AI –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**

–†–µ—à–µ–Ω–∏–µ:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Tool workflows —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –∞–∫—Ç–∏–≤–Ω—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–æ–ª–µ–µ —è–≤–Ω—É—é –∫–æ–º–∞–Ω–¥—É: "–ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç turn_on_light –¥–ª—è light.kitchen"

**AI –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º**

–†–µ—à–µ–Ω–∏–µ:
- –î–æ–±–∞–≤—å—Ç–µ –≤ system message: "–¢—ã –í–°–ï–ì–î–ê –æ—Ç–≤–µ—á–∞–µ—à—å –¢–û–õ–¨–ö–û –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ"
- –£–≤–µ–ª–∏—á—å—Ç–µ temperature –¥–æ 0.8
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å (llama3.2:3b –ª—É—á—à–µ —Å —Ä—É—Å—Å–∫–∏–º)

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### GTX 1050 Ti (4GB) + phi3:mini

- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 3-5 —Å–µ–∫—É–Ω–¥
- üöÄ –¢–æ–∫–µ–Ω—ã: ~40-60 tokens/sec
- üíæ VRAM: ~2.5GB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- üí° –ö–∞—á–µ—Å—Ç–≤–æ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –∫–æ–º–∞–Ω–¥)

### GTX 1060 (6GB) + llama3.1:8b

- ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 4-7 —Å–µ–∫—É–Ω–¥
- üöÄ –¢–æ–∫–µ–Ω—ã: ~30-50 tokens/sec
- üíæ VRAM: ~5GB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- üí° –ö–∞—á–µ—Å—Ç–≤–æ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (–ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±–ª–∞—á–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Ollama (–ª–æ–∫–∞–ª—å–Ω–æ) | GigaChat | Groq |
|----------|-------------------|----------|------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚ö° 40-60 tok/s | üêå 20-30 tok/s | üöÄ 100+ tok/s |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | ‚úÖ ‚ÇΩ0 | ‚úÖ ‚ÇΩ0 (–∫–≤–æ—Ç–∞) | ‚úÖ ‚ÇΩ0 (–∫–≤–æ—Ç–∞) |
| **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å** | ‚úÖ 100% | ‚ùå –û–±–ª–∞–∫–æ | ‚ùå –û–±–ª–∞–∫–æ |
| **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç** | ‚úÖ –ù–µ –Ω—É–∂–µ–Ω | ‚ùå –ù—É–∂–µ–Ω | ‚ùå –ù—É–∂–µ–Ω |
| **VPN –∏–∑ –†–§** | ‚úÖ –ù–µ –Ω—É–∂–µ–Ω | ‚úÖ –ù–µ –Ω—É–∂–µ–Ω | ‚ùå –ù—É–∂–µ–Ω |
| **–ö–∞—á–µ—Å—Ç–≤–æ (RU)** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |

**–í—ã–≤–æ–¥:**
- Ollama - –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏
- GigaChat - –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- Groq - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π VPN

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ Ollama –Ω–∞ Proxmox
2. ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ workflow –≤ n8n
3. ‚úÖ –°–æ–∑–¥–∞–ª–∏ –≤—Å–µ Tool workflows
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
5. üîÑ –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–æ—Å–≤–µ—â–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ç.–¥.)
6. üîÑ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
7. üîÑ –ü–æ—Å–ª–µ –∞–ø–≥—Ä–µ–π–¥–∞ –¥–æ GTX 1060 –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ llama3.1:8b

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Ollama Documentation](https://github.com/ollama/ollama/blob/main/docs/README.md)
- [Ollama API Reference](https://github.com/ollama/ollama/blob/main/docs/api.md)
- [Ollama Models Library](https://ollama.ai/library)
- [n8n Langchain Documentation](https://docs.n8n.io/langchain/)
- [Home Assistant API](https://developers.home-assistant.io/docs/api/rest/)

---

**–ê–≤—Ç–æ—Ä:** AI Assistant
**–î–∞—Ç–∞:** –û–∫—Ç—è–±—Ä—å 2025
**–í–µ—Ä—Å–∏—è:** 1.0
